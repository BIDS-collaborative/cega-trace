library(data.table)
library(ggplot2)
library(rworldmap)
# set working directory and read csv files
setwd("/Users/manjiangjie/Desktop/")
aiddata <- fread("aiddata2-1_research release.csv")
getwd()
setwd("/Users/manjiangjie/Desktop/Coding/")
aiddata <- fread("aiddata2-1_research release.csv")
DT <- as.data.table(aiddata)
aiddata_clean <- DT[, .(sum(disbursement_amount_usd_constant), sum(commitment_amount_usd_constant)), by = .(year, recipient_iso3)]
setnames(aiddata_clean, "V1", "disbursement")
setnames(aiddata_clean, "V2", "commitment")
setkey(aiddata_clean, year)
setwd("/Users/manjiangjie/Desktop/Coding/Projects/cega-trace/data")
research <- fread("research.csv")
DT <- as.data.table(research)
setkey(DT, Year)
research_clean <- DT[, .(Year, Title, Author, Journal)]
join_table1 <- aiddata_clean[research_clean, allow.cartesian=TRUE]
# same with policy.csv and join them together
policy <- fread("policy.csv")
DT <- as.data.table(policy)
setkey(DT, Report_publication_yr)
policy_clean <- DT[, .(Report_publication_yr, Title, Author)]
join_table2 <- join_table1[policy_clean, allow.cartesian=TRUE, nomatch = NA]
new_join_table <- na.omit(join_table2)
plot(density(new_join_table$year, na.rm = TRUE), main = "Year distribution")
View(new_join_table)
plot(density(new_join_table$year, na.rm = TRUE), main = "Year distribution")
p <- ggplot(new_join_table, aes(x = year, y = disbursement, colour = factor(recipient_iso3)))
p + geom_point() + geom_smooth()
p <- ggplot(new_join_table, aes(x = year, y = disbursement, colour = factor(recipient_iso3)))
View(research_clean)
View(policy)
View(research)
View(new_join_table)
